{%- comment -%}
  AE Landing Switcher - MongoDB-Style Content Switcher
  Switcher zwischen "Online Zulassung" und "Wunschkennzeichen" mit komplexen Inhalten
{%- endcomment -%}

{{ 'ae-landing-switcher.js' | asset_url | script_tag }}

<section 
  class="ae-landing-switcher"
  data-section-id="{{ section.id }}"
  data-section-type="ae-landing-switcher"
>
  <div class="section-container">
    
    {%- comment -%} Segmented Control Switcher {%- endcomment -%}
    <div class="ae-switcher" data-aos="{{ section.settings.animation }}" data-aos-delay="100">
      <span class="ae-switcher__slider" aria-hidden="true"></span>
      <button 
        class="ae-switcher__button active" 
        data-role="zulassung"
        aria-pressed="true"
        aria-label="Online Zulassung Informationen anzeigen"
      >
        {{ section.settings.role_1_label | default: "Online Zulassung" }}
      </button>
      <button 
        class="ae-switcher__button" 
        data-role="kennzeichen"
        aria-pressed="false"
        aria-label="Wunschkennzeichen Informationen anzeigen"
      >
        {{ section.settings.role_2_label | default: "Wunschkennzeichen" }}
      </button>
    </div>

    {%- comment -%} Content Container {%- endcomment -%}
    <div class="ae-switcher-content">
      
      {%- comment -%} Online Zulassung Content {%- endcomment -%}
      <div class="ae-switcher-content__item active" data-role-content="zulassung">
        <div class="ae-switcher-content__layout">
          
          {%- comment -%} Text Content {%- endcomment -%}
          <div class="ae-switcher-content__text">
            <h1 class="ae-switcher-content__heading" data-aos="{{ section.settings.animation }}" data-aos-delay="200">
              {{ section.settings.role_1_heading | default: "Vollständige Kfz-Zulassung online" }}
            </h1>
            
            <p class="ae-switcher-content__description" data-aos="{{ section.settings.animation }}" data-aos-delay="300">
              {{ section.settings.role_1_description | default: "Neuzulassung, Abmeldung oder Halterwechsel komplett digital einreichen. Bundesweit, rechtssicher, in Minuten erledigt." }}
            </p>

            {%- comment -%} Features Grid {%- endcomment -%}
            <div class="ae-switcher-content__features" data-aos="{{ section.settings.animation }}" data-aos-delay="400">
              {%- for block in section.blocks -%}
                {%- if block.type == 'zulassung_feature' -%}
                  <div class="ae-feature" {{ block.shopify_attributes }}>
                    <div class="ae-feature__icon">
                      {%- if block.settings.icon != blank -%}
                        {{ block.settings.icon | image_url: width: 40 | image_tag: alt: block.settings.title }}
                      {%- else -%}
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                          <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      {%- endif -%}
                    </div>
                    <h3 class="ae-feature__title">{{ block.settings.title }}</h3>
                    <p class="ae-feature__description">{{ block.settings.description }}</p>
                  </div>
                {%- endif -%}
              {%- endfor -%}
            </div>

            {%- comment -%} CTAs - Apple Style {%- endcomment -%}
            <div class="ae-switcher-content__ctas" data-aos="{{ section.settings.animation }}" data-aos-delay="500">
              <a href="{{ section.settings.role_1_secondary_cta_link | default: '/pages/weitere-infos' }}" class="ae-cta-primary">
                Weitere Infos
              </a>
              <a href="{{ section.settings.role_1_cta_link | default: '#' }}" class="ae-cta-secondary">
                Zulassung starten
              </a>
            </div>
          </div>

          {%- comment -%} Visual Content {%- endcomment -%}
          <div class="ae-switcher-content__visual" data-aos="{{ section.settings.animation }}" data-aos-delay="300">
            {%- if section.settings.role_1_image != blank -%}
              <div class="ae-switcher-content__image-wrapper">
                {{ section.settings.role_1_image | image_url: width: 800 | image_tag:
                  loading: 'lazy',
                  widths: '400, 600, 800',
                  sizes: '(min-width: 768px) 50vw, 100vw',
                  class: 'ae-switcher-content__image',
                  alt: section.settings.role_1_image.alt | default: section.settings.role_1_heading
                }}
                {%- if section.settings.enable_glow -%}
                  <div class="ae-switcher-content__glow"></div>
                {%- endif -%}
              </div>
            {%- else -%}
              <div class="ae-switcher-content__placeholder">
                <svg width="400" height="300" viewBox="0 0 400 300" fill="none">
                  <rect width="400" height="300" rx="12" fill="var(--muted)"/>
                  <text x="200" y="150" text-anchor="middle" fill="var(--muted-foreground)" font-size="16">Zulassung Screenshot</text>
                </svg>
              </div>
            {%- endif -%}
          </div>
        </div>
      </div>

      {%- comment -%} Wunschkennzeichen Content {%- endcomment -%}
      <div class="ae-switcher-content__item" data-role-content="kennzeichen">
        <div class="ae-switcher-content__layout">
          
          {%- comment -%} Text Content {%- endcomment -%}
          <div class="ae-switcher-content__text">
            <h1 class="ae-switcher-content__heading" data-aos="{{ section.settings.animation }}" data-aos-delay="200">
              {{ section.settings.role_2_heading | default: "Persönliche Kennzeichen bestellen" }}
            </h1>
            
            <p class="ae-switcher-content__description" data-aos="{{ section.settings.animation }}" data-aos-delay="300">
              {{ section.settings.role_2_description | default: "Amtlich zertifizierte Kennzeichen in Premium-Qualität. Express-Lieferung in 24h deutschlandweit." }}
            </p>

            {%- comment -%} Features Grid {%- endcomment -%}
            <div class="ae-switcher-content__features" data-aos="{{ section.settings.animation }}" data-aos-delay="400">
              {%- for block in section.blocks -%}
                {%- if block.type == 'kennzeichen_feature' -%}
                  <div class="ae-feature" {{ block.shopify_attributes }}>
                    <div class="ae-feature__icon">
                      {%- if block.settings.icon != blank -%}
                        {{ block.settings.icon | image_url: width: 40 | image_tag: alt: block.settings.title }}
                      {%- else -%}
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                          <rect x="3" y="4" width="18" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
                          <path d="M7 15h10M7 11h4M7 7h2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      {%- endif -%}
                    </div>
                    <h3 class="ae-feature__title">{{ block.settings.title }}</h3>
                    <p class="ae-feature__description">{{ block.settings.description }}</p>
                  </div>
                {%- endif -%}
              {%- endfor -%}
            </div>

            {%- comment -%} CTAs - Single Button for Kennzeichen {%- endcomment -%}
            <div class="ae-switcher-content__ctas" data-aos="{{ section.settings.animation }}" data-aos-delay="500">
              <a href="{{ section.settings.role_2_cta_link | default: '#' }}" class="ae-cta-primary ae-cta-single">
                Wunschkennzeichen bestellen
              </a>
            </div>
          </div>

          {%- comment -%} Visual Content {%- endcomment -%}
          <div class="ae-switcher-content__visual" data-aos="{{ section.settings.animation }}" data-aos-delay="300">
            {%- if section.settings.role_2_image != blank -%}
              <div class="ae-switcher-content__image-wrapper">
                {{ section.settings.role_2_image | image_url: width: 800 | image_tag:
                  loading: 'lazy',
                  widths: '400, 600, 800',
                  sizes: '(min-width: 768px) 50vw, 100vw',
                  class: 'ae-switcher-content__image',
                  alt: section.settings.role_2_image.alt | default: section.settings.role_2_heading
                }}
                {%- if section.settings.enable_glow -%}
                  <div class="ae-switcher-content__glow"></div>
                {%- endif -%}
              </div>
            {%- else -%}
              <div class="ae-switcher-content__placeholder">
                <svg width="400" height="300" viewBox="0 0 400 300" fill="none">
                  <rect width="400" height="300" rx="12" fill="var(--muted)"/>
                  <text x="200" y="150" text-anchor="middle" fill="var(--muted-foreground)" font-size="16">Kennzeichen Bild</text>
                </svg>
              </div>
            {%- endif -%}
          </div>
        </div>
      </div>
    </div>

    {%- comment -%} Trust Badges {%- endcomment -%}
    {%- if section.settings.show_trust_badges -%}
      <div class="ae-switcher-trust" data-aos="{{ section.settings.animation }}" data-aos-delay="600">
        <div class="ae-trust-badge">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 2L3 6v5c0 4.5 3 8 7 9 4-1 7-4.5 7-9V6l-7-4z" stroke="currentColor" stroke-width="1.5"/>
            <path d="M7 10l2 2 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span>Amtlich zertifiziert</span>
        </div>
        <div class="ae-trust-badge">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 18c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8z" stroke="currentColor" stroke-width="1.5"/>
            <path d="M10 6v4l2 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span>Express in 24h</span>
        </div>
        <div class="ae-trust-badge">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M2 10h4l2-4 4 8 2-4h4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span>Bundesweit digital</span>
        </div>
      </div>
    {%- endif -%}
  </div>
</section>

{% schema %}
{
  "name": "AE Landing Switcher",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Layout & Spacing"
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 20,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Padding oben (Mobile)",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 20,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Padding unten (Mobile)",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_top_desktop",
      "min": 40,
      "max": 200,
      "step": 8,
      "unit": "px",
      "label": "Padding oben (Desktop)",
      "default": 104
    },
    {
      "type": "range",
      "id": "padding_bottom_desktop",
      "min": 40,
      "max": 200,
      "step": 8,
      "unit": "px",
      "label": "Padding unten (Desktop)",
      "default": 104
    },
    {
      "type": "header",
      "content": "Switcher Labels"
    },
    {
      "type": "text",
      "id": "role_1_label",
      "label": "Role 1: Label",
      "default": "Online Zulassung"
    },
    {
      "type": "text",
      "id": "role_2_label",
      "label": "Role 2: Label",
      "default": "Wunschkennzeichen"
    },
    {
      "type": "header",
      "content": "Online Zulassung Content"
    },
    {
      "type": "text",
      "id": "role_1_heading",
      "label": "Überschrift",
      "default": "Vollständige Kfz-Zulassung online"
    },
    {
      "type": "textarea",
      "id": "role_1_description",
      "label": "Beschreibung",
      "default": "Neuzulassung, Abmeldung oder Halterwechsel komplett digital einreichen. Bundesweit, rechtssicher, in Minuten erledigt."
    },
    {
      "type": "image_picker",
      "id": "role_1_image",
      "label": "Bild/Screenshot"
    },
    {
      "type": "text",
      "id": "role_1_cta_text",
      "label": "Primary CTA Text",
      "default": "Zulassung starten"
    },
    {
      "type": "url",
      "id": "role_1_cta_link",
      "label": "Primary CTA Link"
    },
    {
      "type": "text",
      "id": "role_1_secondary_cta_text",
      "label": "Secondary CTA Text",
      "default": "Mehr erfahren"
    },
    {
      "type": "url",
      "id": "role_1_secondary_cta_link",
      "label": "Secondary CTA Link"
    },
    {
      "type": "header",
      "content": "Wunschkennzeichen Content"
    },
    {
      "type": "text",
      "id": "role_2_heading",
      "label": "Überschrift",
      "default": "Persönliche Kennzeichen bestellen"
    },
    {
      "type": "textarea",
      "id": "role_2_description",
      "label": "Beschreibung",
      "default": "Amtlich zertifizierte Kennzeichen in Premium-Qualität. Express-Lieferung in 24h deutschlandweit."
    },
    {
      "type": "image_picker",
      "id": "role_2_image",
      "label": "Bild/Screenshot"
    },
    {
      "type": "text",
      "id": "role_2_cta_text",
      "label": "Primary CTA Text",
      "default": "Kennzeichen bestellen"
    },
    {
      "type": "url",
      "id": "role_2_cta_link",
      "label": "Primary CTA Link"
    },
    {
      "type": "text",
      "id": "role_2_secondary_cta_text",
      "label": "Secondary CTA Text",
      "default": "Preise ansehen"
    },
    {
      "type": "url",
      "id": "role_2_secondary_cta_link",
      "label": "Secondary CTA Link"
    },
    {
      "type": "header",
      "content": "Visual Effects"
    },
    {
      "type": "checkbox",
      "id": "enable_glow",
      "label": "Orange Glow aktivieren",
      "default": true,
      "info": "Subtiler Leuchteffekt hinter Bildern"
    },
    {
      "type": "select",
      "id": "animation",
      "label": "Animation",
      "options": [
        {
          "value": "none",
          "label": "Keine"
        },
        {
          "value": "fade",
          "label": "Fade"
        },
        {
          "value": "fade-up",
          "label": "Fade Up"
        },
        {
          "value": "fade-down",
          "label": "Fade Down"
        },
        {
          "value": "zoom-in",
          "label": "Zoom In"
        }
      ],
      "default": "fade-up"
    },
    {
      "type": "header",
      "content": "Trust Badges"
    },
    {
      "type": "checkbox",
      "id": "show_trust_badges",
      "label": "Trust Badges anzeigen",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "zulassung_feature",
      "name": "Zulassung Feature",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Titel",
          "default": "Feature Titel"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Beschreibung",
          "default": "Feature Beschreibung"
        },
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon (optional)"
        }
      ]
    },
    {
      "type": "kennzeichen_feature",
      "name": "Kennzeichen Feature",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Titel",
          "default": "Feature Titel"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Beschreibung",
          "default": "Feature Beschreibung"
        },
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon (optional)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "AE Landing Switcher",
      "blocks": [
        {
          "type": "zulassung_feature",
          "settings": {
            "title": "Digital & Rechtssicher",
            "description": "Alle Dokumente digital einreichen und rechtssicher bearbeiten lassen."
          }
        },
        {
          "type": "zulassung_feature",
          "settings": {
            "title": "Bundesweit verfügbar",
            "description": "In allen Bundesländern und Städten verfügbar."
          }
        },
        {
          "type": "zulassung_feature",
          "settings": {
            "title": "Express Service",
            "description": "Bearbeitung in 24h für eilige Fälle."
          }
        },
        {
          "type": "kennzeichen_feature",
          "settings": {
            "title": "Premium Qualität",
            "description": "Amtlich zertifizierte Kennzeichen in höchster Qualität."
          }
        },
        {
          "type": "kennzeichen_feature",
          "settings": {
            "title": "Express Lieferung",
            "description": "Lieferung in 24h deutschlandweit."
          }
        },
        {
          "type": "kennzeichen_feature",
          "settings": {
            "title": "Persönliche Beratung",
            "description": "Individuelle Beratung für Ihr Wunschkennzeichen."
          }
        }
      ]
    }
  ]
}
{% endschema %}
